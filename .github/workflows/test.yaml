name: test

on: [ push ]

jobs:
  test:
      runs-on: ubuntu-latest # где запускаем
      steps:
        - uses: actions/checkout@v4 # выкачиваем репозиторий
        - uses: actions/setup-java@v4 # настраиваем Java
          with:
            distribution: 'zulu'
            java-version: '21'
        - uses: Xotabu4/selenoid-github-action@v2
        # запускаем тесты
        - run: chmod +x java-automation/selenide-tests/gradlew
        - run: ./gradlew clean test -Dselenide.remote=http://localhost:4444/wd/hub
          working-directory: selenide-tests